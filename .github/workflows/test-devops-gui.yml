name: Test DevOps GUI Installer

on:
  push:
    branches: [main]
  pull_request:

jobs:
  test-devops-gui:
    runs-on: macos-latest
    defaults:
      run:
        shell: bash

    steps:
      - name: Checkout repository
        uses: actions/checkout@v4

      - name: Install Homebrew, pipx and gum
        run: |
          if ! command -v brew &>/dev/null; then
            NONINTERACTIVE=1 /bin/bash -c "$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/HEAD/install.sh)"
          fi
          brew update
          brew install pipx
          pipx ensurepath
          brew install charmbracelet/tap/gum

      - name: Configure shell environment
        run: |
          echo 'eval "$(/opt/homebrew/bin/brew shellenv)"' >> ~/.bash_profile
          eval "$(/
